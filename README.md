# ğŸ§  Vaani: A Real-Time Conversational AI Companion

Shrudaya is a sophisticated, voice-driven AI companion designed for natural, real-time conversation. It seamlessly integrates multiple state-of-the-art AI services into a fluid, responsive, and engaging user experience. The project features a full-stack web application with a polished user interface, alongside the original command-line script for local interaction.

## ğŸŒŸ Features

-   **Real-Time Voice Conversation:** Speak and receive spoken responses with minimal latency.
-   **Intelligent Voice Activity Detection (VAD):** Automatically detects when you start and stop speaking, enabling natural turn-taking.
-   **Hybrid Voice/Text Modality:** Seamlessly switch between voice and text input by muting the call.
-   **Advanced Web Interface:** A beautiful, modern chat UI to visualize the conversation, complete with status indicators, audio visualization, and a custom color theme.
-   **High-Fidelity AI Stack:**
    -   **Transcription:** Powered by **Sarvam AI** for accurate Indian English.
    -   **Reasoning:** Conversational logic driven by the **Mistral LLM**.
    -   **Voice Synthesis:** Lifelike, streaming audio generated by **ElevenLabs**.
-   **Robust & Deployable:** Built with a production-ready FastAPI backend and a clean, modular project structure.

---

## ğŸ›ï¸ Technology Stack

```
Frontend:
  - HTML5, CSS3, Vanilla JavaScript
  - WebSockets for real-time communication
  - Web Audio API (AudioWorklet) for mic streaming
  - Media Source Extensions (MSE) for smooth audio playback

Backend:
  - Python 3.10
  - FastAPI (ASGI Web Framework)
  - Uvicorn (ASGI Server)
  - PyTorch (for Silero VAD model)

AI Services:
  - Voice Activity Detection: Silero VAD (local)
  - Speech-to-Text: Sarvam AI API
  - Language Model: Mistral AI API
  - Text-to-Speech: ElevenLabs API
```

---

## âœ¨ Getting Started: Local Setup Guide

Follow these steps to set up and run Shrudaya on your local machine.

### 1. Prerequisites
- Python 3.10
- Git installed on your system.
- A microphone for voice input.

### 2. Clone the Repository
Clone the project, including the necessary VAD model submodule.
```bash
git clone [https://github.com/TheRealNeelaksh/Shrudaya.git](https://github.com/TheRealNeelaksh/Shrudaya.git)
cd Shrudaya
```

### 3. Create and Activate Virtual Environment
This isolates the project's dependencies.

**On Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```
**On macOS/Linux:**
```bash
python3 -m venv venv
source venv/bin/activate
```

### 4. Install Dependencies
Install all required Python packages.
```bash
pip install -r requirements.txt
```

### 5. Set Up Environment Variables
Your API keys are needed to connect to the AI services.

1.  Find the file named `.env.example` in the root directory.
2.  **Rename** it to `.env`.
3.  Open the `.env` file and paste your secret keys.
    ```env
    SARVAM_API_KEY="your_sarvam_api_key_here"
    MISTRAL_API_KEY="your_mistral_api_key_here"
    ELEVENLABS_API_KEY="your_elevenlabs_api_key_here"
    APP_PASSWORD="choose_a_secret_password_for_the_webapp"
    ```

---
## ğŸ¯ Running the Application

You can run Shrudaya in two ways: as the original command-line script or as the full web application.

### Option A: Run the Local Voice Script
This runs the simple, terminal-based conversation loop.
```bash
python main.py
```

### Option B: Run the Full Web Application (Recommended)
This launches the FastAPI server for the interactive web interface.
```bash
uvicorn server:app --reload
```
Once the server is running, open your web browser and navigate to **`http://127.0.0.1:8000`**.

---

## ğŸ“ Final Project Structure
```
Shrudaya/
â”œâ”€â”€ brain/              # Contains Mistral AI logic
â”œâ”€â”€ logs/               # Stores conversation transcripts
â”œâ”€â”€ stt/                # Contains Sarvam AI STT logic
â”œâ”€â”€ tts/                # Contains ElevenLabs TTS logic
â”œâ”€â”€ vad_model/          # Contains the local Silero VAD model
â”œâ”€â”€ web/                # Contains all frontend files (HTML, CSS, JS, assets)
â”œâ”€â”€ .env                # Your secret API keys (not committed to Git)
â”œâ”€â”€ main.py             # The original command-line script runner
â”œâ”€â”€ server.py           # The main FastAPI web server
â””â”€â”€ requirements.txt    # Python dependencies
```

---
## ğŸ§  Credits
* **Mistral LLM** â€“ Reasoning and language
* **Sarvam AI** â€“ Accurate Indian English transcription
* **ElevenLabs** â€“ High-quality voice synthesis
* **Silero VAD** â€“ On-device voice activity detection

---

## â¤ï¸ By Neelaksh â€“ with wit, wisdom, and waveforms
